<!-- 
No secrets to be found here, traveller.
You're welcome to suggest improvements, or open an issue to let me know something.
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    <script
      src="https://kit.fontawesome.com/6ecb4f54cf.js"
      crossorigin="anonymous"
    ></script>
    <script>
      if (
        window.matchMedia("(prefers-color-scheme: dark)").media === "not all"
      ) {
        document.documentElement.style.display = "none";
        document.head.insertAdjacentHTML(
          "beforeend",
          '<link rel="stylesheet" href="css/themes/light.css" onload="document.documentElement.style.display = \'\'">'
        );
      }
    </script>
    <link
      href="https://fonts.googleapis.com/css?family=Assistant|Overpass+Mono&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="css/layout.css" />

    <link
      rel="stylesheet"
      href="css/themes/dark.css"
      media="(prefers-color-scheme: dark)"
      data-css-theme="dark"
    />
    <link
      rel="stylesheet"
      href="css/themes/light.css"
      media="(prefers-color-scheme: no-preference), (prefers-color-scheme: light)"
      data-css-theme="light"
    />

    <title>Rob C.</title>
  </head>
  <body>
    <div class="content">
      <div class="content-wrapper">
        <main>
          <div id="about" class="no-select">
            <div class="name">
              <h1>Robert A. Cooper</h1>
            </div>

            <div class="contact">
              <em>contact: <a href="mailto:me@rob.ac">me@rob.ac</a></em>
            </div>

            <div class="info">
              <hr />
              <p>
                Software developer from Sydney, Australia.
                <br />
                Passionate about productivity, developer
                <br />
                happiness, and open source software.
              </p>
            </div>
          </div>
        </main>

        <aside id="links">
          <h2 class="no-select">Socials</h2>

          <div class="poppers">
            <a href="https://twitter.com/SeparateRecords" target="_blank">
              <div class="popper">
                <i class="fab fa-twitter twitter"></i>
              </div>
            </a>

            <a href="https://github.com/SeparateRecords" target="_blank">
              <div class="popper">
                <i class="fab fa-github github"></i>
              </div>
            </a>

            <a href="https://instagram.com/r.brtc" target="_blank">
              <div class="popper">
                <i class="fab fa-instagram instagram"></i>
              </div>
            </a>

            <a href="mailto:me@rob.ac">
              <div class="popper">
                <i class="fas fa-paper-plane email"></i>
              </div>
            </a>
          </div>
        </aside>

        <!-- The footer itself is a grid when javascript is enabled,
        otherwise the only thing that displays is the attribution. -->
        <footer class="awaiting-js">
          <a
            class="attribution"
            href="https://github.com/SeparateRecords/SeparateRecords.github.io"
          >
            &lbrack;page source&rbrack;
            <i class="fas fa-external-link-alt"></i>
          </a>
          <a
            type="button"
            id="theme-switcher"
            class="awaiting-js no-select"
            data-theme="default"
          >
            &lbrack;switch theme&rbrack;
          </a>
        </footer>
      </div>
    </div>
    <script>
      (function() {
        Array.from(document.getElementsByClassName("awaiting-js")).forEach(
          node => {
            node.classList.replace("awaiting-js", "has-js");
          }
        );
      })();

      const mqDark = window.matchMedia("(prefers-color-scheme: dark)");
      if (mqDark.matches !== "not all") {
        let btn = document.getElementById("theme-switcher");
        btn.setAttribute("data-theme", mqDark.matches ? "dark" : "light");
        btn.onclick = toggleDark;
      }

      function toggleDark() {
        let btn = document.getElementById("theme-switcher");
        let isDark = btn.getAttribute("data-theme") === "dark";

        btn.setAttribute("data-theme", isDark ? "light" : "dark");

        document
          .querySelectorAll("[data-css-theme='dark']")
          .forEach(node => (node.media = isDark ? "not all" : "all"));
        document
          .querySelectorAll("[data-css-theme='light']")
          .forEach(node => (node.media = isDark ? "all" : "not all"));
      }
    </script>
  </body>
</html>
